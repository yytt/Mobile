var operators=["+","-","x","÷"],decimalAdded=!1;calc={init:function(n){$("#calculator span").on(n?"touchstart":"click",function(n){var s="ls-state-active",t=$("#panel"),i=t.val(),f=$(this),r=f.text(),u=i+r,e,o;f.addClass(s);setTimeout(function(){f.removeClass(s)},300);r==="CLEAR"?(t.val(""),decimalAdded=!1):r==="="?calc.calculate(t):operators.indexOf(r)>-1?(e=i[i.length-1],i!==""&&operators.indexOf(e)===-1?t.val(u):i===""&&r==="-"&&t.val(u),operators.indexOf(e)>-1&&i.length>1&&t.val(i.replace(/.$/,r)),decimalAdded=!1):r==="."?decimalAdded||(t.val(u),decimalAdded=!0):r==="<<"?(o=i.length-1,i&&(t.val(i.substr(0,o)),i[o]==="."&&(decimalAdded=!1))):t.val(u);t[0].scrollLeft=t[0].scrollWidth;n.preventDefault()})},reset:function(){decimalAdded=!1;$("#panel").val("")},calculate:function(input){var input=input||$("#panel"),equation=input.val(),lastChar=equation[equation.length-1],rst;return(operators.indexOf(lastChar)>-1||lastChar===".")&&(equation=equation.replace(/.$/,"")),equation=equation.replace(/x/g,"*").replace(/\xF7/g,"/"),rst="",equation&&(rst=eval(equation),input.val(rst),decimalAdded=rst&&rst.toString().indexOf(".")!==-1),rst}};
//# sourceMappingURL=calc.min.js.map
