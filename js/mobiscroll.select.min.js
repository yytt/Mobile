(function(n){var t={inputClass:"",invalid:[],rtl:!1,showInput:!0,group:!1,groupLabel:"Groups"};n.mobiscroll.presetShort("select");n.mobiscroll.presets.select=function(i){function st(){var s,t,i=0,f=[],e=[],o=[[]];return r.group?(n("optgroup",u).each(function(t){f.push(n(this).attr("label"));e.push(t)}),t={values:f,keys:e,label:r.groupLabel},rt?o[0][i]=t:o[i]=[t],s=c,i++):s=u,f=[],e=[],n("option",s).each(function(){var t=n(this).attr("value");f.push(n(this).text());e.push(t);n(this).prop("disabled")&&ft.push(t)}),t={values:f,keys:e,label:at},rt?o[0][i]=t:o[i]=[t],o}function tt(){f=o?u.val()?u.val()[0]:n("option",u).attr("value"):u.val();r.group&&(c=u.find('option[value="'+f+'"]').parent(),s=c.index(),p=s)}function b(n,t,r){var s=[],c,f;if(o){c=[];f=0;for(f in i._selectedValues)c.push(y[f]),s.push(f);h.val(c.join(", "))}else h.val(n),s=t?i.values[e]:null;t&&(u.val(s),r&&(w=!0,u.change()))}function ht(n){if(o&&n.hasClass("dw-v")&&n.closest(".dw").find(".dw-ul").index(n.closest(".dw-ul"))==e){var t=n.attr("data-val"),r=n.hasClass("dw-msel");return r?(n.removeClass(v).removeAttr("aria-selected"),delete i._selectedValues[t]):(n.addClass(v).attr("aria-selected","true"),i._selectedValues[t]=t),i.live&&b(t,!0,!0),!1}}var d,a,s,c,h,e,f,p,w,g,ct,lt=n.extend({},i.settings),r=n.extend(i.settings,t,lt),it=r.layout||(/top|bottom/.test(r.display)?"liquid":""),rt=it=="liquid",u=n(this),o=u.prop("multiple"),nt=this.id+"_dummy",ut=n('label[for="'+this.id+'"]').attr("for",nt),at=r.label!==undefined?r.label:ut.length?ut.text():u.attr("name"),v="dw-msel mbsc-ic mbsc-ic-checkmark",ft=[],et=[],y={},ot=r.readonly,k,l;for(r.group&&!n("optgroup",u).length&&(r.group=!1),r.invalid.length||(r.invalid=ft),r.group?(a=0,e=1):(a=-1,e=0),n("option",u).each(function(){n(this).attr("value")||n(this).attr("value",n(this).text());y[n(this).attr("value")]=n(this).text()}),tt(),n("#"+nt).remove(),h=n('<input type="text" id="'+nt+'" class="'+r.inputClass+'" placeholder="'+(r.placeholder||"")+'" readonly />'),r.showInput&&h.insertBefore(u),i.attachShow(h),k=u.val()||[],l=0,l;l<k.length;l++)i._selectedValues[k[l]]=k[l];return b(y[f]),u.off(".dwsel").on("change.dwsel",function(){w||i.setValue(o?u.val()||[]:[u.val()],!0);w=!1}).addClass("dw-hsel").attr("tabindex",-1).closest(".ui-field-contain").trigger("create"),i._setValue||(i._setValue=i.setValue),i.setValue=function(t,e,h,l,a){var v,p,w=n.isArray(t)?t[0]:t,k;if(f=w!==undefined?w:n("option",u).attr("value"),o)for(i._selectedValues={},v=0;v<t.length;v++)i._selectedValues[t[v]]=t[v];r.group?(c=u.find('option[value="'+f+'"]').parent(),s=c.index(),p=[s,f]):p=[f];i._setValue(p,e,h,l,a);e&&(k=o?!0:f!==u.val(),b(y[f],k,a===undefined?e:a))},i.getValue=function(n,t){var u=n?i.temp:i.values;return r.group&&t?u:u[e]},{width:50,wheels:ct,layout:it,headerText:!1,multiple:o,anchor:h,formatResult:function(n){return y[n[e]]},parseValue:function(){var t=u.val()||[],n=0;if(o)for(i._selectedValues={},n;n<t.length;n++)i._selectedValues[t[n]]=t[n];return tt(),r.group?[s,f]:[f]},onBeforeShow:function(){o&&r.counter&&(r.headerText=function(){var t=0;return n.each(i._selectedValues,function(){t++}),t+" "+r.selectedText});f===undefined&&tt();r.group&&(p=s,i.temp=[s,f]);r.wheels=st()},onMarkupReady:function(t){t.addClass("dw-select");n(".dwwl"+a,t).on("mousedown touchstart",function(){clearTimeout(g)});o&&(t.addClass("dwms"),n(".dwwl",t).on("keydown",function(t){t.keyCode==32&&(t.preventDefault(),t.stopPropagation(),ht(n(".dw-sel",this)))}).eq(e).addClass("dwwms").attr("aria-multiselectable","true"),et=n.extend({},i._selectedValues))},validate:function(t,h,l){var y,w,b=n(".dw-ul",t).eq(e);if(h===undefined&&o){w=i._selectedValues;y=0;n(".dwwl"+e+" .dw-li",t).removeClass(v).removeAttr("aria-selected");for(y in w)n(".dwwl"+e+' .dw-li[data-val="'+w[y]+'"]',t).addClass(v).attr("aria-selected","true")}if(h===undefined||h===a)if(s=+i.temp[a],s!==p){if(c=u.find("optgroup").eq(s),f=c.find("option").eq(0).val(),f=f||u.val(),r.wheels=st(),r.group&&!d)return i.temp=[s,f],r.readonly=[!1,!0],clearTimeout(g),g=setTimeout(function(){d=!0;p=s;i.changeWheel([e],undefined,!0);r.readonly=ot},l*1e3),!1}else r.readonly=ot;else f=i.temp[e];n.each(r.invalid,function(t,i){n('.dw-li[data-val="'+i+'"]',b).removeClass("dw-v")});d=!1},onClear:function(t){i._selectedValues={};h.val("");n(".dwwl"+e+" .dw-li",t).removeClass(v).removeAttr("aria-selected")},onValueTap:ht,onSelect:function(n){b(n,!0,!0)},onCancel:function(){!i.live&&o&&(i._selectedValues=n.extend({},et))},onChange:function(n){i.live&&!o&&(h.val(n),w=!0,u.val(i.temp[e]).change())},onDestroy:function(){h.remove();u.removeClass("dw-hsel").removeAttr("tabindex")}}}})(jQuery);
/*
//# sourceMappingURL=mobiscroll.select.min.js.map
*/