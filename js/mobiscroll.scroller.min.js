(function(n){function g(){e=!0;setTimeout(function(){e=!1},500)}function r(n,t,i){return Math.max(t,Math.min(n,i))}function p(t){var i={values:[],keys:[]};return n.each(t,function(n,t){i.keys.push(n);i.values.push(t)}),i}n.mobiscroll.classes.Scroller=function(o,tt){function cu(t){if(b(t)&&!f&&!gt&&!st&&!yr(this)&&(t.preventDefault(),f=!0,ui=it.mode!="clickpick",pt=n(".dw-ul",this),pr(pt),vi=ii[wt]!==undefined,ei=vi?wu(pt):si[wt],kt=i(t,"Y"),nu=new Date,yt=kt,wi(pt,wt,ei,.001),ui&&pt.closest(".dwwl").addClass("dwa"),t.type==="mousedown"))n(document).on("mousemove",cr).on("mouseup",lr)}function cr(n){f&&ui&&(n.preventDefault(),n.stopPropagation(),yt=i(n,"Y"),Math.abs(yt-kt)>3&&(wi(pt,wt,r(ei+(kt-yt)/ft,ni-1,ti+1)),vi=!0))}function lr(t){if(f){var h=new Date-nu,a=r(ei+(kt-yt)/ft,ni-1,ti+1),u,i,e,v=pt.offset().top;if(s&&h<300?(u=(yt-kt)/h,i=u*u/it.speedUnit,yt-kt<0&&(i=-i)):i=yt-kt,e=Math.round(ei-i/ft),!vi){var c=Math.floor((yt-v)/ft),o=n(n(".dw-li",pt)[c]),l=ui;et("onValueTap",[o])!==!1?e=c:l=!0;l&&(o.addClass("dw-hl"),setTimeout(function(){o.removeClass("dw-hl")},200))}ui&&ki(pt,e,0,!0,Math.round(a));t.type==="mouseup"&&n(document).off("mousemove",cr).off("mouseup",lr);f=!1}}function lu(t){if(st&&st.removeClass("dwb-a"),st=n(this),st.hasClass("dwb-d")||st.hasClass("dwb-nhl")||st.addClass("dwb-a"),st.hasClass("dwwb")&&b(t)&&vr(t,st.closest(".dwwl"),st.hasClass("dwwbp")?su:hu),t.type==="mousedown")n(document).on("mouseup",ar)}function ar(t){gt&&(clearInterval(yi),gt=!1);st&&(st.removeClass("dwb-a"),st=null);t.type==="mouseup"&&n(document).off("mousedown",ar)}function au(t){t.keyCode==38?vr(t,n(this),hu):t.keyCode==40&&vr(t,n(this),su)}function vu(){gt&&(clearInterval(yi),gt=!1)}function yu(t){if(!yr(this)){t.preventDefault();t=t.originalEvent||t;var i=t.wheelDelta?t.wheelDelta/120:t.detail?-t.detail/3:0,r=n(".dw-ul",this);pr(r);ki(r,Math.round(si[wt]-i),i<0?1:2)}}function iu(n){clearTimeout(kr);kr=setTimeout(function(){var t=n.type=="scroll";(!t||ai)&&rt.position(!t)},200)}function ru(n){var t,i,r;ut.remove();u&&!n&&setTimeout(function(){c=!0;t=u[0];r=t.type;i=t.value;t.type="button";u.focus();t.type=r;t.value=i},200);dt=!1}function vr(n,t,i){if(n.stopPropagation(),n.preventDefault(),!gt&&!yr(t)&&!t.hasClass("dwa")){gt=!0;var r=t.find(".dw-ul");pr(r);clearInterval(yi);yi=setInterval(function(){i(r)},it.delay);i(r)}}function yr(t){if(n.isArray(it.readonly)){var i=n(".dwwl",ut).index(t);return it.readonly[i]}return it.readonly}function uu(t){var i='<div class="dw-bf">',r=hr[t],u=r.values?r:p(r),f=1,e=u.labels||[],o=u.values,s=u.keys||o;return n.each(o,function(n,t){f%20==0&&(i+='<\/div><div class="dw-bf">');i+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+s[n]+'"'+(e[n]?' aria-label="'+e[n]+'"':"")+' style="height:'+ft+"px;line-height:"+ft+'px;"><div class="dw-i"'+(oi>1?' style="line-height:'+Math.round(ft/oi)+"px;font-size:"+Math.round(ft/oi*.8)+'px;"':"")+">"+t+"<\/div><\/div>";f++}),i+="<\/div>"}function pr(t){ni=n(".dw-li",t).index(n(".dw-v",t).eq(0));ti=n(".dw-li",t).index(n(".dw-v",t).eq(-1));wt=n(".dw-ul",ut).index(t)}function pu(n){var t=it.headerText;return t?typeof t=="function"?t.call(o,n):t.replace(/\{value\}/i,n):""}function fu(){rt.temp=rt.values?rt.values.slice(0):it.parseValue(ot.val()||"",rt);di()}function wu(t){var r=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,i,u;return s?(n.each(["t","webkitT","MozT","OT","msT"],function(n,t){if(r[t+"ransform"]!==undefined)return i=r[t+"ransform"],!1}),i=i.split(")")[0].split(", "),u=i[13]||i[5]):u=r.top.replace("px",""),Math.round(or-u/ft)}function eu(n,t){clearTimeout(ii[t]);delete ii[t];n.closest(".dwwl").removeClass("dwa")}function wi(n,t,i,r,u){var f=(or-i)*ft,e=n[0].style;f==pi[t]&&ii[t]||(r&&f!=pi[t]&&et("onAnimStart",[ut,t,r]),pi[t]=f,e[l+"Transition"]="all "+(r?r.toFixed(3):0)+"s ease-out",s?e[l+"Transform"]="translate3d(0,"+f+"px,0)":e.top=f+"px",ii[t]&&eu(n,t),r&&u&&(n.closest(".dwwl").addClass("dwa"),ii[t]=setTimeout(function(){eu(n,t)},r*1e3)),si[t]=i)}function ou(t,i,r){var f=n('.dw-li[data-val="'+t+'"]',i),s=n(".dw-li",i),u=s.index(f),l=s.length;if(!f.hasClass("dw-v")){for(var c=f,h=f,e=0,o=0;u-e>=0&&!c.hasClass("dw-v");)e++,c=s.eq(u-e);while(u+o<l&&!h.hasClass("dw-v"))o++,h=s.eq(u+o);(o<e&&o&&r!==2||!e||u-e<0||r==1)&&h.hasClass("dw-v")?(f=h,u=u+o):(f=c,u=u-e)}return{cell:f,v:u,val:f.hasClass("dw-v")?f.attr("data-val"):null}}function bi(t,i,r,u,f){et("validate",[ut,i,t,u])!==!1&&(n(".dw-ul",ut).each(function(r){var e=n(this),o=r==i||i===undefined,s=ou(rt.temp[r],e,u),h=s.cell;(!h.hasClass("dw-sel")||o)&&(rt.temp[r]=s.val,it.multiple||(n(".dw-sel",e).removeAttr("aria-selected"),h.attr("aria-selected","true")),n(".dw-sel",e).removeClass("dw-sel"),h.addClass("dw-sel"),wi(e,r,s.v,o?t:.1,o?f:!1))}),vt=it.formatResult(rt.temp),rt.live&&di(r,r,0,!0),wr.html(pu(vt)),r&&et("onChange",[vt]))}function et(t,i){var r;return i.push(rt),n.each([y,fr,ir,tt],function(n,u){u&&u[t]&&(r=u[t].apply(o,i))}),r}function ki(t,i,u,f,e){i=r(i,ni,ti);var l=n(".dw-li",t).eq(i),s=e===undefined?i:e,h=e!==undefined,o=wt,c=f?i==s?.1:Math.abs((i-s)*it.timeUnit):0;rt.temp[o]=l.attr("data-val");wi(t,o,i,c,h);setTimeout(function(){bi(c,o,!0,u,h)},10)}function su(n){var t=si[wt]+1;ki(n,t>ti?ni:t,1,!0)}function hu(n){var t=si[wt]-1;ki(n,t<ni?ti:t,2,!0)}function di(n,t,i,r,u){dt&&!r&&bi(i);vt=it.formatResult(rt.temp);u||(rt.values=rt.temp.slice(0),rt.val=vt);n&&(et("onValueFill",[vt,t]),ri&&(ot.val(vt),t&&(rr=!0,ot.change())))}var hi,wr,ut,br,ci,gi,at,nr,tr,ht,ui,dt,ft,li,kr,ir,rr,ur,ai,fr,vt,er,dr,gr,or,fi,bt,lt,sr,gt,vi,kt,nu,yt,ei,ni,ti,pt,wt,oi,yi,ct,st,rt=this,ot=n(o),it,ii={},si={},pi={},hr=[],tu=[],ri=ot.is("input");rt.position=function(t){var f=ci.width(),i=at[0].innerHeight||at.innerHeight();if(!(dr===f&&gr===i&&t)&&!ur&&et("onPosition",[ut,f,i])!==!1&&ht){var o,c,u,v,nt,y,h,p,tt,w,ft,b,st,l=0,a=0,k=at.scrollLeft(),e=at.scrollTop(),ct=n(".dwwr",ut),s=n(".dw",ut),d={},g=it.anchor===undefined?ot:it.anchor;tr&&it.layout!=="liquid"&&(f<400?ut.addClass("dw-liq"):ut.removeClass("dw-liq"));/modal|bubble/.test(it.display)&&(ct.width(""),n(".dwc",ut).each(function(){o=n(this).outerWidth(!0);l+=o;a=o>a?o:a}),o=l>f?a:l,ct.width(o).css("white-space",l>f?"":"nowrap"));fi=s.outerWidth();bt=s.outerHeight(!0);ai=bt<=i&&fi<=f;rt.scrollLock=ai;it.display=="modal"?(c=Math.max(0,(f-fi)/2),u=e+(i-bt)/2):it.display=="bubble"?(st=!0,tt=n(".dw-arrw-i",ut),y=g.offset(),h=Math.abs(n(it.context).offset().top-y.top),p=Math.abs(n(it.context).offset().left-y.left),v=g.outerWidth(),nt=g.outerHeight(),c=r(p-(s.outerWidth(!0)-v)/2-k,3,f-fi-3),u=h-bt,u<e||h>e+i?(s.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),u=h+nt):s.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),w=tt.outerWidth(),ft=r(p+v/2-(c+(fi-w)/2)-k,0,w),n(".dw-arr",ut).css({left:ft})):it.display=="top"?u=e:it.display=="bottom"&&(u=e+i-bt);d.top=u<0?0:u;d.left=c;s.css(d);ci.height(0);b=Math.max(u+bt,it.context=="body"?n(document).height():hi.scrollHeight);ci.css({height:b,left:k});st&&(u+bt>e+i||h>e+i)&&(ur=!0,setTimeout(function(){ur=!1},300),at.scrollTop(Math.min(u+bt-i,b-i)))}dr=f;gr=i};rt.enable=function(){it.disabled=!1;ri&&ot.prop("disabled",!1)};rt.disable=function(){it.disabled=!0;ri&&ot.prop("disabled",!0)};rt.setValue=function(t,i,r,u,f){rt.temp=n.isArray(t)?t.slice(0):it.parseValue.call(o,t+"",rt);di(i,f===undefined?i:f,r,!1,u)};rt.getValue=function(){return rt.values};rt.getValues=function(){var n=[];for(var t in rt._selectedValues)n.push(rt._selectedValues[t]);return n};rt.changeWheel=function(t,i,r){if(ut){var u=0,f=t.length;n.each(it.wheels,function(e,o){return n.each(o,function(e,o){if(n.inArray(u,t)>-1&&(hr[u]=o,n(".dw-ul",ut).eq(u).html(uu(u)),f--,!f))return rt.position(),bi(i,undefined,r),!1;u++}),f?void 0:!1})}};rt.isVisible=function(){return dt};rt.tap=function(n,t,r){var u,f;if(it.tap)n.on("touchstart.dw",function(n){r&&n.preventDefault();u=i(n,"X");f=i(n,"Y")}).on("touchend.dw",function(n){var r=this;Math.abs(i(n,"X")-u)<20&&Math.abs(i(n,"Y")-f)<20&&(n.preventDefault(),setTimeout(function(){t.call(r,n)},d?400:10));g()});n.on("click.dw",function(n){e||t.call(this,n);n.preventDefault()})};rt.show=function(i,r){var e,u,f=0,o="";if(!it.disabled&&!dt){if(lt!==!1&&(it.display=="top"&&(lt="slidedown"),it.display=="bottom"&&(lt="slideup")),fu(),et("onBeforeShow",[]),ht&&lt&&!i&&(o="dw-"+lt+" dw-in"),u='<div class="'+it.theme+" dw-"+it.display+(tr?" dw-liq":"")+(oi>1?" dw-ml":"")+(nr?"":" dw-nobtn")+'"><div class="dw-persp">'+(ht?'<div class="dwo"><\/div>':"")+"<div"+(ht?' role="dialog" tabindex="-1"':"")+' class="dw dwbg '+o+(it.rtl?" dw-rtl":" dw-ltr")+'">'+(it.display==="bubble"?'<div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"><\/div><\/div><\/div>':"")+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(it.headerText?"":" dw-hidden")+'"><\/div><div class="dwcc">',n.each(it.wheels,function(t,i){u+='<div class="dwc'+(it.mode!="scroller"?" dwpm":" dwsc")+(it.showLabel?"":" dwhl")+'"><div class="dwwc"'+(it.maxWidth?"":' style="max-width:600px;"')+">"+(a?"":'<table class="dw-tbl" cellpadding="0" cellspacing="0"><tr>');n.each(i,function(n,t){hr[f]=t;e=t.label!==undefined?t.label:n;u+="<"+(a?"div":"td")+' class="dwfl" style="'+(it.fixedWidth?"width:"+(it.fixedWidth[f]||it.fixedWidth)+"px;":(it.minWidth?"min-width:"+(it.minWidth[f]||it.minWidth)+"px;":"min-width:"+it.width+"px;")+(it.maxWidth?"max-width:"+(it.maxWidth[f]||it.maxWidth)+"px;":""))+'"><div class="dwwl dwwl'+f+'">'+(it.mode!="scroller"?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp '+(it.btnPlusClass||"")+'" style="height:'+ft+"px;line-height:"+ft+'px;"><span>+<\/span><\/a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm '+(it.btnMinusClass||"")+'" style="height:'+ft+"px;line-height:"+ft+'px;"><span>&ndash;<\/span><\/a>':"")+'<div class="dwl">'+e+'<\/div><div tabindex="0" aria-live="off" aria-label="'+e+'" role="listbox" class="dwww"><div class="dww" style="height:'+it.rows*ft+'px;"><div class="dw-ul">';u+=uu(f)+'<\/div><\/div><div class="dwwo"><\/div><\/div><div class="dwwol"'+(it.selectedLineHeight?' style="height:'+ft+"px;margin-top:-"+(ft/2+(it.selectedLineBorder||0))+'px;"':"")+"><\/div><\/div>"+(a?"<\/div>":"<\/td>");f++});u+=(a?"":"<\/tr><\/table>")+"<\/div><\/div>"}),u+="<\/div>",ht&&nr&&(u+='<div class="dwbc">',n.each(ct,function(n,t){t=typeof t=="string"?rt.buttons[t]:t;u+="<span"+(it.btnWidth?' style="width:'+100/ct.length+'%"':"")+' class="dwbw '+t.css+'"><a href="#" class="dwb dwb'+n+' dwb-e" role="button">'+t.text+"<\/a><\/span>"}),u+="<\/div>"),u+="<\/div><\/div><\/div><\/div>",ut=n(u),ci=n(".dw-persp",ut),br=n(".dwo",ut),wr=n(".dwv",ut),gi=n(".dw",ut),pi={},dt=!0,li="orientationchange resize",bi(),et("onMarkupReady",[ut]),ht){if(t.activeInstance=rt,ut.appendTo(it.context),s&&lt&&!i)ut.addClass("dw-trans").on(k,function(){ut.removeClass("dw-trans").find(".dw").removeClass(o);r||gi.focus()})}else ot.is("div")?ot.html(ut):ut.insertAfter(ot);if(et("onMarkupInserted",[ut]),ht){n(window).on("keydown.dw",function(n){n.keyCode==13?rt.select():n.keyCode==27&&rt.cancel()});if(it.scrollLock)ut.on("touchmove",function(n){ai&&n.preventDefault()});l!=="Moz"&&n("input,select,button",hi).each(function(){this.disabled||n(this).addClass("dwtd").prop("disabled",!0)});li+=" scroll"}rt.position();at.on(li,iu);ut.on("DOMMouseScroll mousewheel",".dwwl",yu).on("keydown",".dwwl",au).on("keyup",".dwwl",vu).on("selectstart mousedown",v).on("click",".dwb-e",v).on("keydown",".dwb-e",function(t){t.keyCode==32&&(t.preventDefault(),t.stopPropagation(),n(this).click())});setTimeout(function(){n.each(ct,function(t,i){rt.tap(n(".dwb"+t,ut),function(n){i=typeof i=="string"?rt.buttons[i]:i;i.handler.call(this,n,rt)},!0)});it.closeOnOverlay&&rt.tap(br,function(){rt.cancel()});!ht||lt||r||gi.focus();ut.on("touchstart mousedown",".dwwl",cu).on("touchmove",".dwwl",cr).on("touchend",".dwwl",lr).on("touchstart mousedown",".dwb-e",lu).on("touchend",".dwb-e",ar)},300);et("onShow",[ut,vt])}};rt.hide=function(i,r,u){if(!dt||!u&&et("onClose",[vt,r])===!1)return!1;if(l!=="Moz"&&n(".dwtd",hi).each(function(){n(this).prop("disabled",!1).removeClass("dwtd")}),ut){if(s&&ht&&lt&&!i&&!ut.hasClass("dw-trans"))ut.addClass("dw-trans").find(".dw").addClass("dw-"+lt+" dw-out").on(k,function(){ru(i)});else ru(i);at.off(li,iu)}delete t.activeInstance};rt.select=function(){rt.hide(!1,"set")!==!1&&(di(!0,!0,0,!0),et("onSelect",[rt.val]))};rt.cancel=function(){rt.hide(!1,"cancel")!==!1&&et("onCancel",[rt.val])};rt.attachShow=function(t,i){if(tu.push(t),it.display!=="inline")t.on("mousedown.dw",v).on((it.showOnFocus?"focus.dw":"")+(it.showOnTap?" click.dw":""),function(r){r.type==="focus"&&(r.type!=="focus"||c)||e||(i&&i(),n(document.activeElement).is("input,textarea")&&n(document.activeElement).blur(),u=t,rt.show());setTimeout(function(){c=!1},300)})};rt.init=function(i){var r;if(h(tt,i),it=h({},nt,y,tt),fr=t.themes[it.theme],sr=t.i18n[it.lang],et("onThemeLoad",[sr,tt]),h(it,fr,sr,y,tt),it.buttons=it.buttons||["set","cancel"],it.headerText=it.headerText===undefined?it.display!=="inline"?"{value}":!1:it.headerText,rt.settings=it,ot.off(".dw"),r=t.presets[it.preset],r&&(ir=r.call(o,rt),h(it,ir,tt)),or=Math.floor(it.rows/2),ft=it.height,lt=d?!1:it.animate,oi=it.multiline,tr=(it.layout||(/top|bottom/.test(it.display)&&it.wheels.length==1?"liquid":""))==="liquid",ht=it.display!=="inline",ct=it.buttons,at=n(it.context=="body"?window:it.context),hi=n(it.context)[0],it.setText||ct.splice(n.inArray("set",ct),1),it.cancelText||ct.splice(n.inArray("cancel",ct),1),it.button3&&ct.splice(n.inArray("set",ct)+1,0,{text:it.button3Text,handler:it.button3}),rt.context=at,rt.live=!ht||n.inArray("set",ct)==-1,rt.buttons.set={text:it.setText,css:"dwb-s",handler:rt.select},rt.buttons.cancel={text:rt.live?it.closeText:it.cancelText,css:"dwb-c",handler:rt.cancel},rt.buttons.clear={text:it.clearText,css:"dwb-cl",handler:function(){rt.trigger("onClear",[ut]);ot.val("");rt.live||rt.hide(!1,"clear")}},nr=ct.length>0,dt&&rt.hide(!0,!1,!0),ht?(fu(),ri&&(er===undefined&&(er=o.readOnly),o.readOnly=!0),rt.attachShow(ot)):rt.show(),ri)ot.on("change.dw",function(){rr||rt.setValue(ot.val(),!1,.2);rr=!1})};rt.option=function(n,t){var i={};typeof n=="object"?i=n:i[n]=t;rt.init(i)};rt.destroy=function(){rt.hide(!0,!1,!0);n.each(tu,function(n,t){t.off(".dw")});ri&&(o.readOnly=er);delete w[o.id];et("onDestroy",[])};rt.getInst=function(){return rt};rt.getValidCell=ou;rt.trigger=et;w[o.id]=rt;rt.values=null;rt.val=null;rt.temp=null;rt.buttons={};rt._selectedValues={};rt.init(tt)};var u,f,e,c,t=n.mobiscroll,w=t.instances,o=t.util,l=o.jsPrefix,s=o.has3d,a=o.hasFlex,i=o.getCoord,b=o.testTouch,v=function(n){n.preventDefault()},h=n.extend,k="webkitAnimationEnd animationend",y=t.userdef,d=/android [1-3]/i.test(navigator.userAgent),nt=h(t.defaults,{setText:"Set",selectedText:"Selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",minWidth:80,height:40,rows:3,multiline:1,delay:300,disabled:!1,readonly:!1,closeOnOverlay:!0,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",display:"modal",mode:"scroller",preset:"",context:"body",scrollLock:!0,tap:!0,btnWidth:!0,speedUnit:.0012,timeUnit:.1,formatResult:function(n){return n.join(" ")},parseValue:function(t,i){var e=t.split(" "),r=[],u=0,f;return n.each(i.settings.wheels,function(t,i){n.each(i,function(t,i){i=i.values?i:p(i);f=i.keys||i.values;n.inArray(e[u],f)!==-1?r.push(e[u]):r.push(f[0]);u++})}),r}});n(window).on("focus",function(){u&&(c=!0)});n(document).on("mouseover mouseup mousedown click",function(n){if(e)return n.stopPropagation(),n.preventDefault(),!1})})(jQuery);
/*
//# sourceMappingURL=mobiscroll.scroller.min.js.map
*/